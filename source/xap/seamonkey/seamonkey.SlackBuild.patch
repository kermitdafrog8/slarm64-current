--- a/seamonkey.SlackBuild	2020-11-14 20:53:18.674599827 +0000
+++ b/seamonkey.SlackBuild	2020-12-08 20:17:30.866790849 +0000
@@ -62,6 +62,9 @@
 elif [ "$ARCH" = "x86_64" ]; then
   LIBDIRSUFFIX="64"
   OPTIMIZE_FLAG=${OPTIMIZE_FLAG:-"-O1 -g0"}
+elif [ "$ARCH" = "aarch64" ]; then
+  LIBDIRSUFFIX="64"
+  OPTIMIZE_FLAG=${OPTIMIZE_FLAG:-"-O1 -g0"}
 else
   LIBDIRSUFFIX=""
   OPTIMIZE_FLAG=${OPTIMIZE_FLAG:-"-O1 -g0"}
@@ -89,6 +92,11 @@
 # Set linker to use:
 LINKER=bfd
 
+# Keep memory usage as low as possible when linking:
+SLKLDFLAGS=" -Wl,--as-needed -Wl,--no-keep-memory -Wl,--stats"
+export LDFLAGS="$SLKLDFLAGS"
+export MOZ_LINK_FLAGS="$SLKLDFLAGS"
+
 NUMJOBS=${NUMJOBS:-" -j$(expr $(nproc) + 1) "}
 
 TMP=${TMP:-/tmp}
@@ -139,6 +147,18 @@
 OPTIONS="\
   --prefix=/usr \
   --libdir=/usr/lib${LIBDIRSUFFIX} \
+  \
+  --with-system-libvpx \
+  --with-system-nss \
+  --with-system-icu \
+  --enable-system-cairo \
+  --enable-system-ffi \
+  --enable-system-pixman \
+  --with-system-bz2 \
+  --with-system-jpeg \
+  --disable-webrtc \
+  --disable-rust-simd \
+  \
   --enable-cpp-rtti \
   --enable-default-toolkit=cairo-gtk3 \
   --enable-startup-notification \
@@ -156,7 +176,6 @@
   --disable-necko-wifi \
   --enable-extensions=default \
   --enable-js-shell \
-  --enable-elf-hack \
   --enable-release \
   --enable-calendar \
   --without-system-nspr \
@@ -164,7 +183,8 @@
   --enable-application=suite \
   --with-pthreads \
   --host=$ARCH-slackware-linux \
-  --target=$ARCH-slackware-linux"
+  --target=$ARCH-slackware-linux \
+  "
 
 export BUILD_OFFICIAL=1
 export MOZILLA_OFFICIAL=1
