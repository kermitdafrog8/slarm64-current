--- a/seamonkey.SlackBuild	2021-02-13 00:48:09.191862957 +0200
+++ b/seamonkey.SlackBuild	2021-02-13 00:48:53.383815827 +0200
@@ -62,6 +62,12 @@
 elif [ "$ARCH" = "x86_64" ]; then
   LIBDIRSUFFIX="64"
   OPTIMIZE_FLAG=${OPTIMIZE_FLAG:-"-O1 -g0"}
+elif [ "$ARCH" = "aarch64" ]; then
+  LIBDIRSUFFIX="64"
+  OPTIMIZE_FLAG=${OPTIMIZE_FLAG:-"-O1 -g0"}
+elif [ "$ARCH" = "riscv64" ]; then
+  LIBDIRSUFFIX="64"
+  OPTIMIZE_FLAG=${OPTIMIZE_FLAG:-"-O1 -g0"}
 else
   LIBDIRSUFFIX=""
   OPTIMIZE_FLAG=${OPTIMIZE_FLAG:-"-O1 -g0"}
@@ -89,6 +95,11 @@
 # Set linker to use:
 LINKER=bfd
 
+# Keep memory usage as low as possible when linking:
+SLKLDFLAGS=" -Wl,--as-needed -Wl,--no-keep-memory -Wl,--stats"
+export LDFLAGS="$SLKLDFLAGS"
+export MOZ_LINK_FLAGS="$SLKLDFLAGS"
+
 NUMJOBS=${NUMJOBS:-" -j$(expr $(nproc) + 1) "}
 
 TMP=${TMP:-/tmp}
@@ -139,6 +150,18 @@
 OPTIONS="\
   --prefix=/usr \
   --libdir=/usr/lib${LIBDIRSUFFIX} \
+  \
+  --with-system-libvpx \
+  --with-system-nss \
+  --with-system-icu \
+  --enable-system-cairo \
+  --enable-system-ffi \
+  --enable-system-pixman \
+  --with-system-bz2 \
+  --with-system-jpeg \
+  --disable-webrtc \
+  --disable-rust-simd \
+  \
   --enable-cpp-rtti \
   --enable-default-toolkit=cairo-gtk3 \
   --enable-startup-notification \
@@ -156,14 +179,14 @@
   --disable-necko-wifi \
   --enable-extensions=default \
   --enable-js-shell \
-  --enable-elf-hack \
   --enable-release \
   --enable-calendar \
   --without-system-nspr \
   --with-system-zlib \
   --enable-application=comm/suite \
   --host=$ARCH-slackware-linux \
-  --target=$ARCH-slackware-linux"
+  --target=$ARCH-slackware-linux \
+  "
 
 export BUILD_OFFICIAL=1
 export MOZILLA_OFFICIAL=1
