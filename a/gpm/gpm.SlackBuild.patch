--- a/gpm.SlackBuild	2017-09-22 19:22:46.537705125 +0100
+++ b/gpm.SlackBuild	2017-09-22 19:24:50.633705125 +0100
@@ -39,16 +39,20 @@
 TMP=${TMP:-/tmp}
 PKG=$TMP/package-gpm
 
-if [ "$ARCH" = "i586" ]; then
-  SLKCFLAGS="-O2 -march=i586 -mtune=i686"
-  LIBDIRSUFFIX=""
-elif [ "$ARCH" = "s390" ]; then
-  SLKCFLAGS="-O2"
-  LIBDIRSUFFIX=""
-elif [ "$ARCH" = "x86_64" ]; then
-  SLKCFLAGS="-O2 -fPIC"
-  LIBDIRSUFFIX="64"
-fi
+case "$ARCH" in
+     i?86) SLKCFLAGS="-O2 -march=i586 -mtune=i686"
+           LIBDIRSUFFIX=""
+           ;;
+   x86_64) SLKCFLAGS="-O2 -fPIC"
+           LIBDIRSUFFIX="64"
+           ;;
+  aarch64) SLKCFLAGS="-O2"
+           LIBDIRSUFFIX="64"
+           ;;
+        *) SLKCFLAGS="-O2"
+           LIBDIRSUFFIX=""
+           ;;
+esac
 
 rm -rf $PKG
 mkdir -p $TMP $PKG
@@ -68,6 +72,7 @@
 zcat $CWD/gpm-1.20.1-lib-silent.patch.gz | patch -p1 --verbose || exit 1
 zcat $CWD/gpm-1.20.5-close-fds.patch.gz | patch -p1 --verbose || exit 1
 zcat $CWD/gpm-1.20.1-select-1.patch.gz | patch -p1 --verbose || exit 1
+xzcat $CWD/gpm-1.20.7-glibc_2.26-1.patch.xz | patch -p1 --verbose || exit 1
 
 sh autogen.sh
 
@@ -146,4 +151,3 @@
 # Build the package:
 cd $PKG
 makepkg -l y -c n $TMP/gpm-$VERSION-$ARCH-$BUILD.txz
-
